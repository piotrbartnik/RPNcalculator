"use strict";for(var buttons=document.querySelectorAll(".calc__button"),resultDisplay=document.querySelector("#resultDisplay"),rpnDisplay=document.querySelector("#rpnDisplay"),result=[],rpnArr=[],isResult,rpnReady=function(e){var t="",l=[];for(i=0;i<=e.length;i++)/\d/.test(e[i])?t+=e[i]:/\d/.test(e[i])||(l.push(t),t="",l.push(e[i]));return l.slice(0,-1)},calculateResult=function calculateResult(array){array=array.join("");var calculatedResult=eval(array);return 11<calculatedResult.toString().length?(array=[],array.push(calculatedResult.toString().slice(0,10))):(array=[],array.push(calculatedResult),isResult=!0),array},cardDraw=function(){var l=document.querySelectorAll(".result__cards--card");resultDisplay.innerText="";for(var e=0;e<l.length;e++)l[e].classList.remove("card__active"),l[e].classList.remove("drawing");for(var t=function(e){var t=e;setTimeout(function(){l[t%4].classList.add("drawing")},200*e)},s=0;s<20;s++)t(s);setTimeout(function(){for(var e=function(e){var t=e;setTimeout(function(){l[t%4].classList.remove("drawing")},200*e)},t=0;t<20;t++)e(t)},300),setTimeout(function(){var e=Math.ceil(4*Math.random()),t=Math.ceil(13*Math.random());l[e-1].classList.add("drawing"),l[e-1].classList.add("card__active"),resultDisplay.innerText="-".concat(t,"-")},4200)},buttonMathOperands=["*","+","-","/","%","."],i=0;i<buttons.length;i++)buttons[i].addEventListener("click",function(e){return function(){"C"==buttons[e].dataset.value&&(resultDisplay.innerText="0",result=[]),"card"==buttons[e].dataset.value&&cardDraw(),resultDisplay.innerText.length<11&&/[0-9]/.test(buttons[e].dataset.value)&&(isResult&&(result=[]),result.push(buttons[e].dataset.value),resultDisplay.innerText=result.join("")),resultDisplay.innerText.length<10&&-1!=buttonMathOperands.indexOf(buttons[e].dataset.value)&&(isResult=!1,result.push(buttons[e].dataset.value),resultDisplay.innerText=result.join("")),"AC"==buttons[e].dataset.value&&(resultDisplay.innerText="",result=[]),"="==buttons[e].dataset.value&&(calculateResult(result),rpnDisplay.innerHTML=rpn(rpnReady(result)),console.log(rpn(rpnReady(result))),result=calculateResult(result),10<calculateResult(result).length&&(resultDisplay.innerText=calculateResult(result).toString().slice(0,10)),resultDisplay.innerText=calculateResult(result))}}(i));var setForNumpad={NumpadAdd:"+",NumpadSubtract:"-",NumpadMultiply:"*",NumpadDivide:"/",NumpadDecimal:"."};document.addEventListener("keypress",function(e){"Delete"==e.code&&(resultDisplay.innerText="0",result=[]),resultDisplay.innerText.length<11&&/[0-9]/.test(e.code.charAt(e.code.length-1))&&(isResult&&(result=[]),isResult=!1,result.push(e.code.charAt(e.code.length-1)),resultDisplay.innerText=result.join("")),resultDisplay.innerText.length<10&&0<=Object.keys(setForNumpad).indexOf(e.code)&&0<result.length&&/[0-9]/.test(result[result.length-1])&&(isResult=!1,rpnArr.push(result.join("")),result.push(Object.values(setForNumpad)[Object.keys(setForNumpad).indexOf(e.code)]),resultDisplay.innerText=result.join("")),"NumpadEnter"==e.code&&(calculateResult(result),rpnDisplay.innerHTML=rpn(rpnReady(result)),console.log(rpn(rpnReady(result))),result=calculateResult(result),10<calculateResult(result).length&&(resultDisplay.innerText=calculateResult(result).toString().slice(0,9)),resultDisplay.innerText=calculateResult(result))}),module.exports={calculateResult:calculateResult};